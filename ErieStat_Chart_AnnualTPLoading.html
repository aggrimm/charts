<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lake Erie Severity Index</title>

    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>

    <script src="//code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!--&lt;!&ndash; Optional theme &ndash;&gt;-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!--&lt;!&ndash; Latest compiled and minified JavaScript &ndash;&gt;-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <script src="js/ba_chart2.js"></script>
    <script src="js/export-csv_glc.js"></script>
    <link rel="stylesheet" href="css/BA_Style.css">
</head>
<body>
<!--<div id="chart-canvas">-->
    <!--<div id="chart" style="margin-right: 20px">-->
    <!--</div>-->
    <div id="chart2" style="margin-right: 20px">
    </div>

<!--</div>-->

<script>
//    var x_axis = [2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017];
//    var data = [null , 0.3, 4.1, 2.7, 0.3, 1.3, 0.9, 6.2, 5.1, 5.8, 10, 2.9, 8.5, 6.6, 10.5, 3.2, 8];

Highcharts.setOptions({
    lang: {
        numericSymbols: null,
        thousandsSep: ','
    }
});

//    Highcharts.chart("chart", {
//        chart: {
//            type: "column",
//            events: {
//                load: function () {
//                    var logoX = 15;
//                    // var size = this.chartWidth / 10;
//                    // var size = this.plotBox.x < this.plotBox.y ? this.plotBox.x : this.plotBox.y;
//                    var size = this.plotBox.y;
//                    size -= 5;
//
//                    if(this.chartWidth < 500){
//                        logoX = 10;
//                        // size = this.chartWidth / 10;
//                    }
//                    var img_width = (this.chartWidth - 350)/2 - logoX;
//                    var img_height = size;
//                    // var img_url = "";
//                    if(img_width >= img_height*4){
//                        // wide logo
//                        this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
//                        // ErieStat logo. Change factor to 3
//                        // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();
//                    }else{
//                        // cube logo
//                        this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
//                    }
//                    // var w = this.chartWidth - this.title.alignAttr.x;
//                    // Blue Accounting Cube logo
//                    // this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
//                    // Blue Accouting Logo
//                    // this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
//                    // Blue Accounting ErieStat Logo
//                    // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();
//
//                    // this.renderer.image("https://c1.staticflickr.com/5/4382/36578347693_3c6032000b_o.png", 0, 0, chart_width, chart_height).add();   //red watermark
////                if (isBgImg) {
////                    this.renderer.image("img/background_draft.png", this.plotLeft, this.plotTop, this.plotWidth, this.plotHeight).add(); //grey watermark
////                }
//                }
//            }
//        },
//        title: {
//            text: 'Total Phosphorus Loading Estimates (MTA) <br\>To Lake Erie By Source Type'
//        },
//        xAxis: {
//            labels: {
//                rotation: -45
//            }
//        },
//        yAxis: {
//            title: {
//                text: 'Total Phosphorus Load (MTA)'
//            }
//        },
//        credits: {
//            enabled: false,
//            href: 'javascript:window.open("http://www.noaa.gov", "_blank")',//"http://noaa.gov",
//            text: "Source: NOAA",
////            target: "_blank"
//        },
//
////        legend: {
////            layout: 'vertical',
////            align: 'right',
////            verticalAlign: 'middle'
////        },
//
//        plotOptions: {
//            column: {
//                stacking: 'normal',
//            },
//            series: {
//                label: {
//                    connectorAllowed: false
//                },
//                pointStart: 1967
//            }
//        },
//
//        series: [
//            {
//                name: "Load, all sources",
//                data: [23437,27944,26977,23724,18077,22271,20485],
//                color: ColorPicker.blue2
//            },
//            {
//                name: "Adjustment for Unmonitored Area",
//                data: [null, null, null, null, null, null, null,2028,956,2705,2011,3272,1140,1608,1163,1670,1063,1931,1421,1753,1293,1329,828,2858,1249,638,1543,981,1621,2378,4345,2669,1088,1626,1391,1635,1148,1747,1382,1398,2010,1661,1155,789,2267,2005,2267,null,null,null],
//                color: ColorPicker.blue5
//            },
//            {
//                name: "Monitored Tributary NPS",
//                data: [null, null, null, null, null, null, null,7679,3619,4397,3818,8471,3856,6985,4508,6448,4566,6545,5872,5447,2970,2508,4154,6205,6060,3914,7092,3120,2784,5613,8546,6192,2007,2915,2536,4332,4009,4488,4883,4281,6763,6394,4626,2655,7153,4582,4732,null,null,null],
//                color: ColorPicker.blue4
//            },
//            {
//                name: "Lake Huron Input",
//                data: [null, null, null, null, null, null, null,822,799,758,665,653,708,743,710,656,681,651,698,740,675,582,515,463,467,476,485,501,482,506,560,528,435,406,398,406,366,364,354,335,325,321,321,321,321,321,321,null,null,null],
//                color: ColorPicker.blue7
//            },
//            {
//                name: "Atmospheric Deposition",
//                data: [null, null, null, null, null, null, null,560,560,1119,1119,879,1550,1550,729,660,362,392,291,357,471,372,310,467,333,264,337,403,377,516,520,694,485,788,537,694,813,511,363,632,432,493,651,412,549,307,559,null,null,null],
//                color: ColorPicker.blue3
//            },
//            {
//                name: "Indirect Point Sources",
//                data: [null, null, null, null, null, null, null,1284,1284,1156,1467,1566,1467,1275,1074,1035,840,900,881,754,757,777,653,589,587,554,547,473,404,663,562,532,529,478,454,536,433,485,467,494,489,478,462,389,432,395,408,null,null,null],
//                color: ColorPicker.blue1
//            },
//            {
//                name: "Direct Point Sources",
//                data: [null, null, null, null, null, null, null,7103,5735,4959,5081,4163,2848,2357,1901,1455,1970,2027,1671,1727,1811,1774,1542,1701,1804,1523,1539,1681,1503,1334,1800,1543,1419,1569,1335,1456,1256,1410,1444,1476,1519,1496,1334,1177,1173,965,833,null,null,null],
//                color: ColorPicker.blue6
//            },
//        ],
//
//
////        responsive: {
////            rules: [{
////                condition: {
////                    maxWidth: 500
////                },
////                chartOptions: {
////                    legend: {
////                        layout: 'horizontal',
////                        align: 'center',
////                        verticalAlign: 'bottom'
////                    }
////                }
////            }]
////        }
//    });

Highcharts.chart("chart2", {
    chart: {
        type: "column",
        events: {
            load: function () {
                var logoX = 15;
                // var size = this.chartWidth / 10;
                // var size = this.plotBox.x < this.plotBox.y ? this.plotBox.x : this.plotBox.y;
                var size = this.plotBox.y;
                size -= 5;

                if(this.chartWidth < 500){
                    logoX = 10;
                    // size = this.chartWidth / 10;
                }
                var img_width = (this.chartWidth - 350)/2 - logoX;
                var img_height = size;
                // var img_url = "";
                if(img_width >= img_height*4){
                    // wide logo
                    this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
                    // ErieStat logo. Change factor to 3
                    // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();
                }else{
                    // cube logo
                    this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
                }
                // var w = this.chartWidth - this.title.alignAttr.x;
                // Blue Accounting Cube logo
                // this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
                // Blue Accouting Logo
                // this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
                // Blue Accounting ErieStat Logo
                // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();

                // this.renderer.image("https://c1.staticflickr.com/5/4382/36578347693_3c6032000b_o.png", 0, 0, chart_width, chart_height).add();   //red watermark
//                if (isBgImg) {
//                    this.renderer.image("img/background_draft.png", this.plotLeft, this.plotTop, this.plotWidth, this.plotHeight).add(); //grey watermark
//                }
            }
        }
    },
    title: {
        text: 'Total Phosphorus Loading Estimates (MTA) <br\>To Lake Erie By Source Type'
    },
    xAxis: {
        labels: {
            rotation: -45
        }
    },
    yAxis: {
        title: {
            text: 'Total Phosphorus Load (MTA)'
        }
    },
    credits: {
        enabled: false,
        href: 'javascript:window.open("http://www.noaa.gov", "_blank")',//"http://noaa.gov",
        text: "Source: NOAA",
//            target: "_blank"
    },

//        legend: {
//            layout: 'vertical',
//            align: 'right',
//            verticalAlign: 'middle'
//        },

    plotOptions: {
        column: {
            stacking: 'normal',
        },
        series: {
            label: {
                connectorAllowed: false
            },
            pointStart: 1967
        }
    },

    series: [
        {
            name: "Load, all sources",
            data: [23437,27944,26977,23724,18077,22271,20485],
            color: "#7C5B40"
        },
        {
            name: "Adjustment for Unmonitored Area",
            data: [null, null, null, null, null, null, null,2028,956,2705,2011,3272,1140,1608,1163,1670,1063,1931,1421,1753,1293,1329,828,2858,1249,638,1543,981,1621,2378,4345,2669,1088,1626,1391,1635,1148,1747,1382,1398,2010,1661,1155,789,2267,2005,2267,null,null,null],
            color: "#FFC000"
        },
        {
            name: "Tributary Monitored NPS",
            data: [null, null, null, null, null, null, null,7679,3619,4397,3818,8471,3856,6985,4508,6448,4566,6545,5872,5447,2970,2508,4154,6205,6060,3914,7092,3120,2784,5613,8546,6192,2007,2915,2536,4332,4009,4488,4883,4281,6763,6394,4626,2655,7153,4582,4732,null,null,null],
            color: "#3618E8"
        },
        {
            name: "Lake Huron Input",
            data: [null, null, null, null, null, null, null,822,799,758,665,653,708,743,710,656,681,651,698,740,675,582,515,463,467,476,485,501,482,506,560,528,435,406,398,406,366,364,354,335,325,321,321,321,321,321,321,null,null,null],
            color: "#FFFF99"
        },
        {
            name: "Atmospheric Deposition",
            data: [null, null, null, null, null, null, null,560,560,1119,1119,879,1550,1550,729,660,362,392,291,357,471,372,310,467,333,264,337,403,377,516,520,694,485,788,537,694,813,511,363,632,432,493,651,412,549,307,559,null,null,null],
            color: "#ED1313"
        },
        {
            name: "Indirect Point Sources",
            data: [null, null, null, null, null, null, null,1284,1284,1156,1467,1566,1467,1275,1074,1035,840,900,881,754,757,777,653,589,587,554,547,473,404,663,562,532,529,478,454,536,433,485,467,494,489,478,462,389,432,395,408,null,null,null],
            color: "#16EA48"
        },
        {
            name: "Direct Point Sources",
            data: [null, null, null, null, null, null, null,7103,5735,4959,5081,4163,2848,2357,1901,1455,1970,2027,1671,1727,1811,1774,1542,1701,1804,1523,1539,1681,1503,1334,1800,1543,1419,1569,1335,1456,1256,1410,1444,1476,1519,1496,1334,1177,1173,965,833,null,null,null],
            color: "#00B0F0"
        }
    ],


//        responsive: {
//            rules: [{
//                condition: {
//                    maxWidth: 500
//                },
//                chartOptions: {
//                    legend: {
//                        layout: 'horizontal',
//                        align: 'center',
//                        verticalAlign: 'bottom'
//                    }
//                }
//            }]
//        }
});
</script>
</body>
</html>