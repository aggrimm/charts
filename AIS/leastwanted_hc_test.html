<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Total Phosphorus Loading Estimates to Lake Erie</title>
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    <script src="//code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- Montserrat font -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700" rel="stylesheet">
    <script src="../js/export-csv_glc.js"></script>
    <script src="../js/BlueAccounting.js"></script>
    <link rel="stylesheet" href="../css/BA_Style.css">
</head>
<body>
	<div id="highcharts-189bacab-dd2e-4cdc-a68f-5371bfe26bde"></div>
<script>
  (function () {
    var files = [
        "https://code.highcharts.com/stock/highstock.js",
        "https://code.highcharts.com/highcharts-more.js",
        "https://code.highcharts.com/highcharts-3d.js",
        "https://code.highcharts.com/modules/data.js",
        "https://code.highcharts.com/modules/exporting.js",
        "https://code.highcharts.com/modules/funnel.js",
        "https://code.highcharts.com/modules/annotations.js",
        "https://code.highcharts.com/modules/accessibility.js",
        "https://code.highcharts.com/modules/solid-gauge.js",
      ],
      loaded = 0;
    if (typeof window["HighchartsEditor"] === "undefined") {
      window.HighchartsEditor = {
        ondone: [cl],
        hasWrapped: false,
        hasLoaded: false,
      };
      include(files[0]);
    } else {
      if (window.HighchartsEditor.hasLoaded) {
        cl();
      } else {
        window.HighchartsEditor.ondone.push(cl);
      }
    }
    function isScriptAlreadyIncluded(src) {
      var scripts = document.getElementsByTagName("script");
      for (var i = 0; i < scripts.length; i++) {
        if (scripts[i].hasAttribute("src")) {
          if (
            (scripts[i].getAttribute("src") || "").indexOf(src) >= 0 ||
            (scripts[i].getAttribute("src") ===
              "http://code.highcharts.com/highcharts.js" &&
              src === "https://code.highcharts.com/stock/highstock.js")
          ) {
            return true;
          }
        }
      }
      return false;
    }
    function check() {
      if (loaded === files.length) {
        for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) {
          try {
            window.HighchartsEditor.ondone[i]();
          } catch (e) {
            console.error(e);
          }
        }
        window.HighchartsEditor.hasLoaded = true;
      }
    }
    function include(script) {
      function next() {
        ++loaded;
        if (loaded < files.length) {
          include(files[loaded]);
        }
        check();
      }
      if (isScriptAlreadyIncluded(script)) {
        return next();
      }
      var sc = document.createElement("script");
      sc.src = script;
      sc.type = "text/javascript";
      sc.onload = function () {
        next();
      };
      document.head.appendChild(sc);
    }
    function each(a, fn) {
      if (typeof a.forEach !== "undefined") {
        a.forEach(fn);
      } else {
        for (var i = 0; i < a.length; i++) {
          if (fn) {
            fn(a[i]);
          }
        }
      }
    }
    var inc = {},
      incl = [];
    each(document.querySelectorAll("script"), function (t) {
      inc[t.src.substr(0, t.src.indexOf("?"))] = 1;
    });
    function cl() {
      if (typeof window["Highcharts"] !== "undefined") {
        var options = {
          title: {
            text: "Fish Species",
            style: {
              fontFamily: '"Montserrat", sans-serif',
              color: "#333333",
              fontSize: "18px",
              fontWeight: "normal",
              fontStyle: "normal",
            },
            margin: 15,
            widthAdjust: -44,
          },
          subtitle: {
            text:
              "There are now 5 “least wanted” fish species that are regulated in all 10 jurisdictions, and all fish species are regulated in at least half (5 out of 10) of the Great Lakes states and provinces. Species with an asterisk (*) indicate species that were added to the Least Wanted list in 2018.",
            align: "left",
            widthAdjust: -260,
            y: 10,
            verticalAlign: "bottom",
          },
          exporting: {},
          chart: {
            type: "column",
			events: {
				load: function () {
					var logoX = 15;
                    var size = this.plotBox.y;
                    size -= 5;

                    if(this.chartWidth < 500){
						logoX = 10;
                        // size = this.chartWidth / 10;
                    }
                    var img_width = (this.chartWidth - 350)/2 - logoX;
                    var img_height = size;
                    // var img_url = "";
                    if(img_width >= img_height*4){
                        // wide logo
                        this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
                        // ErieStat logo. Change factor to 3
                        // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();
                    }else{
                        // cube logo
						this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
                    }
                    // var w = this.chartWidth - this.title.alignAttr.x;
                    // Blue Accounting Cube logo
                    // this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
                    // Blue Accouting Logo
                    // this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
                    // Blue Accounting ErieStat Logo
                    // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();

                    // this.renderer.image("https://c1.staticflickr.com/5/4382/36578347693_3c6032000b_o.png", 0, 0, chart_width, chart_height).add();   //red watermark
//                if (isBgImg) {
//                    this.renderer.image("img/background_draft.png", this.plotLeft, this.plotTop, this.plotWidth, this.plotHeight).add(); //grey watermark
//                }
                }
			}
            inverted: false,
            polar: false,
            height: null,
            width: 848,
            style: {
              fontFamily: '"Montserrat",sans-serif',
              color: "#333",
              fontSize: "12px",
              fontWeight: "normal",
              fontStyle: "normal",
            },
            spacingTop: 10,
          },
          plotOptions: {
            series: { dataLabels: { enabled: false }, animation: false },
          },
          series: [
            { name: "2008", turboThreshold: 0 },
            { name: "2012", turboThreshold: 0 },
            { name: "2018", turboThreshold: 0 },
          ],
          data: {
            csv:
              '"null";"2008";"2012";"2018"\n"Silver carp";8;10;10\n"Bighead carp";8;10;10\n"Grass carp";6;9;10\n"Black carp";8;10;10\n"Northern snakehead ";8;10;10\n"Zander";1;3;9\n"Wels catfish";0;1;7\n"Stone moroko";0;0;6\n"Tench*";1;3;5',
            googleSpreadsheetKey: false,
            googleSpreadsheetWorksheet: false,
          },
          xAxis: [
            {
              title: { text: null, margin: 11 },
              labels: { staggerLines: 1, x: 0, reserveSpace: true },
            },
          ],
          yAxis: [
            {
              ceiling: 11,
              endOnTick: false,
              max: 10,
              visible: true,
              title: { text: "# of Regulating Jurisdictions (out of 10)" },
              plotLines: [
                {
                  className: "goal",
                  color: "#ff0000",
                  value: 10,
                  width: 1.5,
                  zIndex: 8,
                },
              ],
              tickInterval: 2,
            },
          ],
          colors: [
            "#1c2d5a",
            "#7ed3f7",
            "#188ccc",
            "#f7a35c",
            "#8085e9",
            "#f15c80",
            "#e4d354",
            "#2b908f",
            "#f45b5b",
            "#91e8e1",
          ],
          labels: { items: [{}] },
          pane: { background: [] },
          responsive: { rules: [] },
          legend: { padding: 8, margin: 12 },
          annotations: [{ shapes: [{}] }],
        }; /*
// Sample of extending options:
Highcharts.merge(true, options, {
    chart: {
        backgroundColor: "#bada55"
    },
    plotOptions: {
        series: {
            cursor: "pointer",
            events: {
                click: function(event) {
                    alert(this.name + " clicked\n" +
                          "Alt: " + event.altKey + "\n" +
                          "Control: " + event.ctrlKey + "\n" +
                          "Shift: " + event.shiftKey + "\n");
                }
            }
        }
    }
});
*/
        new Highcharts.Chart(
          "highcharts-189bacab-dd2e-4cdc-a68f-5371bfe26bde",
          options
        );
      }
    }
  })();
</script>
</body>
</html>
