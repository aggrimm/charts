<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>GLRI Funding</title>
<script src="https://code.highcharts.com/highcharts.js"></script>

<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>

<link rel="stylesheet" href="../css/BA_styles.css">

<script src="../js/BlueAccounting.js"></script>

</head>
<body>
<div id="container" style="height: 250px"></div>
<script>
    BA=new BlueAccounting();
    Highcharts.setOptions({
        lang: {
            thousandsSep: ',',
            downloadCSV: "Download CSV1"
        }
    });

    Highcharts.chart('container', {
        chart: {
            type: "pie",
            events: {
                load: function () {
                    var logoX = 15;
                    var size = this.plotBox.y;
                    size -= 5;

                    if (this.chartWidth < 500) {
                        logoX = 10;
                    }
                    var img_width = (this.chartWidth - 350)/2 - logoX;
                    if(img_width >= size * 4){
                        // wide logo
                        this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
                        // ErieStat logo. Change factor to 3
                        // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();
                    }else{
                        // cube logo
                        this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
                    }
                }
            },
        },

        title: {
            text: "Blue Accounting Coastal Wetlands Database: Invasives Control Investment Project Funding"
            // text: ""
        },
        credits: {
            enabled: false
        },
        tooltip: {
            pointFormat: '{series.name}: <b>${point.y}</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: false
                },
                showInLegend: true
            }
        },
        legend: {
            align: 'right',
            layout: 'vertical'
        },
        series: [{
            name: "Funding",
            data: [{
                name: "Lake St. Clair Metropark Invasives Control Funding",
                y: 1492500.00,
                color: BA.ColorPicker.blue1
            },

                {
                    name: "Total Invasive Control Funding",
                    y: 24829414.78,
                    color: BA.ColorPicker.blue7
                }

            ]

        }]

    });
</script>
</body>
</html>
