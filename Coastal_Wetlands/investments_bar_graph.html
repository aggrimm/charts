<!DOCTYPE html>
<head>

	<script src="https://code.highcharts.com/highcharts.js"></script>

<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>

<link rel="stylesheet" href="https://blueaccounting.github.io/charts/css/BA_styles.css">

<script src="https://blueaccounting.github.io/charts/js/BlueAccounting.js"></script>

<style>
    #container{
        border: 0;
        display: block;
        height: auto !important;
        max-width: 100%;
        -ms-interpolation-mode: bicubic;
        line-height: 0;

}
</style>
</head>
<body>
<div id="container" ></div>
<script>
BA=new BlueAccounting();
Highcharts.setOptions({
	lang: {
  	thousandsSep: ',',
    downloadCSV: "Download CSV"
  }
});
	
// Generic plugin that adds support for listening to container resize rather than
// window resize. As of 2018 only Chrome supports ResizeObserver.
Highcharts.wrap(Highcharts.Chart.prototype, 'setReflow', function(proceed, reflow) {

	var chart = this;

    proceed.call(this, reflow);

    if (reflow !== false && typeof ResizeObserver === 'function') {
    	
        // Unbind window.onresize handler so we don't do double redraws
        if (this.unbindReflow) {
        	this.unbindReflow();
        }
    
        var ro = new ResizeObserver(function () {
            chart.reflow();
        });
        
        ro.observe(this.renderTo);
    }
});

 Highcharts.chart('container', {
    chart: {
        type: 'column',
            events: {
                load: function () {
                    var logoX = 15;
                    var size = this.plotBox.y;
                    size -= 5;
                    if (this.chartWidth < 500) {
                        logoX = 10;
                    }
                    var img_width = (this.chartWidth - 350)/2 - logoX;
                    if(img_width >= size * 4){
                        // wide logo
                        this.renderer.image("https://c1.staticflickr.com/1/826/26966705327_f80fcd7af1_o.png", logoX, 0, size * 4, size ).add();
                        // ErieStat logo. Change factor to 3
                        // this.renderer.image("https://c1.staticflickr.com/1/956/27966542108_a46fd4fa96_o.png", logoX, 0, size*3 , size).add();
                    }else{
                        // cube logo
                        this.renderer.image("https://c1.staticflickr.com/1/868/40969378165_8bd2c065b9_o.png", logoX, 0, size, size).add();
                    }
                }
            },
        },

     credits: {
            text: 'ArcGIS Online Metadata',
            href: 'http://tnc.maps.arcgis.com/home/item.html?id=a192b7aafe0c436485b34a2ce1d62176'
        },
         title: {
        text: 'Coastal Wetlands Investments'
    },
    subtitle: {
        text: 'Investments by Project Category Count'
    },
    xAxis: {
        type: 'category',
        labels: {
            rotation: -45,
            style: {
                fontSize: '13px',
                fontFamily: 'Verdana, sans-serif'
             
  
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Number of Projects'
        }
    },
    legend: {
        enabled: false
    },
    tooltip: {
        pointFormat: 'Project Count: <b>{point.y:1f} projects</b>'
          },
    series: [{
        name: 'Project Type',
        data: [
            ['Enhancement', 17,],
            ['Invasives Control', 54],
            ['Restoration', 35],
            ['Hydrologic Restoration', 20],
            ['Shoreline Softening', 3],
            ['Protection', 28],
            ['Combined', 38],

            
        ],

    }]
});
</script> 
</body>
</html>
